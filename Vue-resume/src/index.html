<!DOCTYPE html>
<html lang="ch">
  <head>
    <meta charset="utf-8">
    <title>简历编辑器</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/resume.css">
  </head>
  <body>
    <div class="page" id='app'>
      <aside>
        <div class="upper">
          <ul class="actions">
            <li>
              <button class="button">保存</button>
            </li>
            <li>
              <button class="button">分享</button>
            </li>
            <li>
              <button class="button">打印</button>
            </li>
            <li>
              <button class="button">换肤</button>
            </li>
          </ul>
        </div>
        <div class="down">
          <button class="button">登出</button>
        </div>
      </aside>
      <main>
        <div class="resume">
          <section class="profile">
            <h1>
              <editable-span v-bind:value="resume.name" v-on:edit="onEdit('name', $event)"></editable-span>
            </h1>
            <p class="profile">应聘职位 :
              <editable-span v-bind:value="resume.jobTitile" v-on:edit="onEdit('jobTitile', $event)"></editable-span>
            </p>
            <p class="profile">
              <editable-span :value="resume.birthday" @edit="onEdit('birthday', $event)"></editable-span> |
              <editable-span :value="resume.gender" @edit="onEdit('gender', $event)"></editable-span> |
              <editable-span :value="resume.email" @edit="onEdit('email', $event)"></editable-span> |
              <editable-span :value="resume.phone" @edit="onEdit('phone', $event)"></editable-span>
            </p>
          </section>
          <section class="skills">
            <ul>
              <li>
                <span class="name">静态页面制作</span>
                <div class="description">
                  完美完成设计稿
                </div>
              </li>
              <li>
                <span class="name">静态页面制作</span>
                <div class="description">
                  完美完成设计稿
                </div>
              </li>
              <li>
                <span class="name">静态页面制作</span>
                <div class="description">
                  完美完成设计稿
                </div>
              </li>
              <li>
                <span class="name">静态页面制作</span>
                <div class="description">
                  完美完成设计稿
                </div>
              </li>
            </ul>
          </section>
          <section class="profiles">
            <h2>项目经历</h2>
            <ol>
              <li>
                <header>
                  <div class="start">
                    <h3 class="name">我的简历</h3>
                    <span class="link">http://xxxx/xxx</span>
                  </div>
                  <div class="end">
                    <span class="keywords">CSS jQuery 响应式</span>
                  </div>
                </header>
                <p class="description">我是怎么做这个项目的</p>
              </li>
              <li>
                <header>
                  <div class="start">
                    <h3 class="name">我的简历</h3>
                    <span class="link">http://xxxx/xxx</span>
                  </div>
                  <div class="end">
                    <span class="keywords">CSS jQuery 响应式</span>
                  </div>
                </header>
                <p class="description">我是怎么做这个项目的</p>
              </li>
              <li>
                <header>
                  <div class="start">
                    <h3 class="name">我的简历</h3>
                    <span class="link">http://xxxx/xxx</span>
                  </div>
                  <div class="end">
                    <span class="keywords">CSS jQuery 响应式</span>
                  </div>
                </header>
                <p class="description">我是怎么做这个项目的</p>
              </li>
              <li>
                <header>
                  <div class="start">
                    <h3 class="name">我的简历</h3>
                    <span class="link">http://xxxx/xxx</span>
                  </div>
                  <div class="end">
                    <span class="keywords">CSS jQuery 响应式</span>
                  </div>
                </header>
                <p class="description">我是怎么做这个项目的</p>
              </li>

            </ol>
          </section>
        </div>
      </main>
    </div>




  <script src="../vendors/vue.js" charset="utf-8"></script>
  <script src="../vendors/av-min.js" charset="utf-8"></script>
  <script src="js/av.js"></script>
  <script>
  console.log(window.Vue);
  console.log(window.AV);
  // var TestObject = AV.Object.extend('TestObject');
  // var testObject = new TestObject();
  // testObject.save({
  //   words: 'Hello World!'
  // }).then(function(object) {
  //   alert('LeanCloud Rocks!');
  // })
  </script>
  <style media="screen">
    .editableSpan{position: relative;}
    .editableSpan button{position: absolute; display: none; left: 100%; top: auto; padding: 0;}
    .editableSpan:hover button{display: inline-block; z-index: 1}
  </style>
  <script>
  // 定义一个名为 button-counter 的新组件
  Vue.component('editable-span', {
    props: ['value'],
    data: function () {
      return {
        editing: false
      }
    },
    template: `
    <span class="editableSpan">
      <span v-show="!editing">{{value}}</span>
      <input v-show="editing" type="text" v-bind:value="value" @input="triggerEdit"/>
      <button @click="editing = !editing">edit</button>
    </span>
    `,
    methods:{
      triggerEdit(e){
        console.log(e.target.value);
        this.$emit('edit', e.target.value)
      }
    },
  })

  var app = new Vue({
    el: '#app',
    data: {
      editingName: false,
      resume: {
        message: 'Hello Vue!',
        name: '姓名',
        birthday: '1994',
        gender: '男',
        email: 'example@gmail.com',
        phone: '18888888888',
        jobTitile: '前端工程师'
      }
    },
    methods: {
      onEdit(key, value){
        console.log('key',key);
        console.log('value',value);
        this.resume[key] = value
      }
    },
  })

  </script>
  </body>
</html>
